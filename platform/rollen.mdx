---
title: "Rollen"
description: "Stel je rollen goed in voor je team"
icon: "user-group"
---

## Op rollen gebaseerde toegangscontrole (RBAC)

EPAdossier gebruikt een op rollen gebaseerde toegangscontrolesysteem om permissies binnen organisaties te beheren. Elk lid van een organisatie krijgt een rol toegewezen die bepaalt welke functies en gegevens zij kunnen gebruiken.

## Beschikbare Rollen

| Rol            | Beschrijving                                                        |
| -------------- | ------------------------------------------------------------------- |
| **Eigenaar**   | Volledige controle over de organisatie. Kan niet worden verwijderd. |
| **Beheerder**  | Volledige toegang tot alle functies en instellingen.                |
| **Adviseur**   | Werkt aan projecten en offertes. Geen financi√´le toegang.           |
| **Accountant** | Beheert facturen en facturering. Beperkte toegang tot projecten.    |
| **Planner**    | Co√∂rdineert projecten en relaties. Geen toegang tot facturen.       |

---

## Rol Details

### üëë Eigenaar

De maker van de organisatie met ultieme controle.

**Belangrijkste Kenmerken:**

- Kan niet worden verwijderd uit de organisatie
- Enige rol die organisatie-informatie kan bewerken (naam, logo, details)
- Enige rol die eigendom kan overdragen aan een ander lid
- Heeft alle permissies van een Beheerder

**Gebruiksdoel:** De eigenaar van het bedrijf of primaire accounthouder.

---

### üõ°Ô∏è Beheerder

Volledige operationele toegang zonder eigendomsrechten.

**Permissies:**

- ‚úÖ Alle toegang tot functies (dashboard, offertes, projecten, dossiers, facturen, relaties)
- ‚úÖ Organisatieleden beheren (uitnodigen, verwijderen, rollen wijzigen)
- ‚úÖ Toegang tot alle instellingen (producten, tarieven, branding, audit logs)
- ‚ùå Kan organisatie-informatie niet bewerken
- ‚ùå Kan eigendom niet overdragen

**Gebruiksdoel:** Kantoormanagers, teamleiders, of vertrouwde werknemers die volledige systeemtoegang nodig hebben.

---

### üëî Adviseur

Veldwerkers die energiebeoordelingen en klantinteracties afhandelen.

**Permissies:**
| Module | Toegangsniveau |
|--------|---------------|
| Dashboard | Beperkt (geen financi√´le gegevens) |
| Offertes | Volledig (aanmaken, bewerken, verwijderen, verzenden) |
| Projecten | Alleen toegewezen (aanmaken, bewerken) |
| Dossiers | Alleen toegewezen (aanmaken, bewerken, bestanden beheren) |
| Facturen | ‚ùå Geen toegang |
| Creditfacturen | ‚ùå Geen toegang |
| Relaties | Alleen bekijken en aanmaken |
| Instellingen | ‚ùå Geen toegang |

**Belangrijkste Beperkingen:**

- Kan alleen projecten/dossiers zien die aan hen zijn toegewezen
- Kan facturen niet bekijken of beheren
- Kan geen toegang krijgen tot organisatie-instellingen
- Kan relaties niet verwijderen

**Gebruiksdoel:** Energie-adviseurs, inspecteurs, of consultants die direct werken aan projecten.

---

### üßÆ Accountant

Financi√´le specialisten gericht op facturering en facturering.

**Permissies:**
| Module | Toegangsniveau |
|--------|---------------|
| Dashboard | Alleen financi√´le gegevens |
| Offertes | Alleen bekijken |
| Projecten | Alle bekijken (alleen-lezen) |
| Dossiers | ‚ùå Geen toegang |
| Facturen | Volledig (aanmaken, bewerken, verwijderen, verzenden) |
| Creditfacturen | Volledig (aanmaken, bewerken, verwijderen) |
| Relaties | Alleen bekijken |
| Instellingen | Alleen factuur-instellingen |

**Belangrijkste Beperkingen:**

- Kan geen offertes aanmaken of bewerken
- Kan projecten niet wijzigen
- Kan geen toegang krijgen tot dossiers of bestanden
- Beperkt tot alleen factuur-gerelateerde instellingen

**Gebruiksdoel:** Boekhouders, financi√´le beheerders, of factureringsspecialisten.

---

### üìÖ Planner

Co√∂rdinatoren die planning en klantrelaties beheren.

**Permissies:**
| Module | Toegangsniveau |
|--------|---------------|
| Dashboard | Beperkt (geen financi√´le gegevens) |
| Offertes | Volledig (aanmaken, bewerken, verwijderen, verzenden) |
| Projecten | Volledig (alle bekijken, aanmaken, bewerken, verwijderen) |
| Dossiers | Alleen bekijken (alle dossiers) |
| Facturen | ‚ùå Geen toegang |
| Creditfacturen | ‚ùå Geen toegang |
| Relaties | Volledig (aanmaken, bewerken, verwijderen) |
| Instellingen | ‚ùå Geen toegang |

**Belangrijkste Beperkingen:**

- Kan facturen niet bekijken of beheren
- Kan dossierbestanden niet bewerken
- Kan geen toegang krijgen tot organisatie-instellingen

**Gebruiksdoel:** Projectco√∂rdinatoren, planners, of klantenservicemedewerkers.

---

## Permissie Matrix

### Functie Toegang Overzicht

| Functie            |  Eigenaar   |  Beheerder  |   Adviseur    |  Accountant   |   Planner   |
| ------------------ | :---------: | :---------: | :-----------: | :-----------: | :---------: |
| **Dashboard**      | ‚úÖ Volledig | ‚úÖ Volledig |  üî∏ Beperkt   | üí∞ Financieel | üî∏ Beperkt  |
| **Offertes**       | ‚úÖ Volledig | ‚úÖ Volledig |  ‚úÖ Volledig  |  üëÅÔ∏è Bekijken  | ‚úÖ Volledig |
| **Projecten**      | ‚úÖ Volledig | ‚úÖ Volledig | üîπ Toegewezen |  üëÅÔ∏è Bekijken  | ‚úÖ Volledig |
| **Dossiers**       | ‚úÖ Volledig | ‚úÖ Volledig | üîπ Toegewezen |    ‚ùå Geen    | üëÅÔ∏è Bekijken |
| **Facturen**       | ‚úÖ Volledig | ‚úÖ Volledig |    ‚ùå Geen    |  ‚úÖ Volledig  |   ‚ùå Geen   |
| **Creditfacturen** | ‚úÖ Volledig | ‚úÖ Volledig |    ‚ùå Geen    |  ‚úÖ Volledig  |   ‚ùå Geen   |
| **Relaties**       | ‚úÖ Volledig | ‚úÖ Volledig |  üî∏ Beperkt   |  üëÅÔ∏è Bekijken  | ‚úÖ Volledig |

**Legenda:**

- ‚úÖ Volledige toegang (aanmaken, lezen, bijwerken, verwijderen)
- üëÅÔ∏è Alleen bekijken (alleen-lezen)
- üîπ Alleen toegewezen (kan alleen toegang krijgen tot aan hen toegewezen items)
- üî∏ Beperkt (gedeeltelijke toegang, zie rol details)
- üí∞ Alleen financieel (alleen financi√´le/facturerings-gerelateerde gegevens)
- ‚ùå Geen toegang

---

### Instellingen Toegang

| Instelling                 |  Eigenaar   |  Beheerder  | Adviseur | Accountant | Planner |
| -------------------------- | :---------: | :---------: | :------: | :--------: | :-----: |
| Organisatie Info           | ‚úÖ Bewerken | üëÅÔ∏è Bekijken |    ‚ùå    |     ‚ùå     |   ‚ùå    |
| Organisatie Logo           | ‚úÖ Bewerken | üëÅÔ∏è Bekijken |    ‚ùå    |     ‚ùå     |   ‚ùå    |
| Leden                      |     ‚úÖ      |     ‚úÖ      |    ‚ùå    |     ‚ùå     |   ‚ùå    |
| Producten & Tarieven       |     ‚úÖ      |     ‚úÖ      |    ‚ùå    |     ‚ùå     |   ‚ùå    |
| Factuur Instellingen       |     ‚úÖ      |     ‚úÖ      |    ‚ùå    |     ‚úÖ     |   ‚ùå    |
| Creditfactuur Instellingen |     ‚úÖ      |     ‚úÖ      |    ‚ùå    |     ‚úÖ     |   ‚ùå    |
| Offerte Instellingen       |     ‚úÖ      |     ‚úÖ      |    ‚ùå    |     ‚ùå     |   ‚ùå    |
| Branding                   |     ‚úÖ      |     ‚úÖ      |    ‚ùå    |     ‚ùå     |   ‚ùå    |
| Audit Logs                 |     ‚úÖ      |     ‚úÖ      |    ‚ùå    |     ‚ùå     |   ‚ùå    |

---

### Lid Beheer

| Actie               | Eigenaar | Beheerder | Anderen |
| ------------------- | :------: | :-------: | :-----: |
| Leden bekijken      |    ‚úÖ    |    ‚úÖ     |   ‚ùå    |
| Leden uitnodigen    |    ‚úÖ    |    ‚úÖ     |   ‚ùå    |
| Leden verwijderen   |    ‚úÖ    |    ‚úÖ     |   ‚ùå    |
| Lid rollen wijzigen |    ‚úÖ    |    ‚úÖ     |   ‚ùå    |
| Eigendom overdragen |    ‚úÖ    |    ‚ùå     |   ‚ùå    |

---

## Rol Toewijzing

### Bij Het Uitnodigen Van Leden

Bij het uitnodigen van een nieuw lid kunt u hen een van de volgende rollen toewijzen:

- Beheerder
- Adviseur (standaard)
- Accountant
- Planner

> **Opmerking:** De Eigenaar rol kan niet worden toegewezen. Deze kan alleen worden overgedragen door de huidige eigenaar.

### Rollen Wijzigen

Beheerders en Eigenaren kunnen lidrollen op elk moment wijzigen via:

1. Ga naar **Instellingen** ‚Üí **Leden**
2. Klik op het menu (‚ãÆ) naast een lid
3. Selecteer **Rol Wijzigen**
4. Kies de nieuwe rol en bevestig

### Eigendom Overdragen

Alleen de huidige Eigenaar kan eigendom overdragen:

1. Ga naar **Instellingen** ‚Üí **Leden**
2. Klik op het menu (‚ãÆ) naast het lid dat de nieuwe eigenaar wordt
3. Selecteer **Rol Wijzigen**
4. Klik op **Eigendom Overdragen**
5. Typ het e-mailadres van het lid om te bevestigen
6. Klik op de knop **Eigendom Overdragen**

> ‚ö†Ô∏è **Waarschuwing:** Eigendomsoverdracht kan niet ongedaan worden gemaakt. De vorige eigenaar wordt een Beheerder.

---

## Beste Praktijken

1. **Principe van Minste Privileges**: Wijs de minimale rol toe die nodig is voor elk teamlid om hun werk uit te voeren.

2. **Regelmatige Audits**: Controleer periodiek de lidrollen om er zeker van te zijn dat ze nog steeds geschikt zijn.

3. **Eigendom Opvolging**: Heb een plan voor eigendomsoverdracht als de huidige eigenaar de organisatie verlaat.

4. **Rol Documentatie**: Zorg ervoor dat teamleden begrijpen wat hun rol hen toelaat te doen.

---

## Technische Implementatie

Rollen worden opgeslagen in de `member` tabel en worden afgedwongen op zowel:

- **Backend**: tRPC middleware valideert permissies voordat procedures worden uitgevoerd
- **Frontend**: UI elementen worden verborgen/uitgeschakeld gebaseerd op de permissies van de gebruiker

Voor ontwikkelaars, zie:

- `src/lib/roles/index.ts` - Rol en permissie definities
- `src/server/trpc.ts` - Middleware en procedure types
- `src/hooks/use-role.ts` - Frontend permissie hooks
